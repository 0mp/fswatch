<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libfswatch: libfswatch/c/libfswatch.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libfswatch
   &#160;<span id="projectnumber">1.9.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e3504b1dcb8b3f8e409650c9c977d0f2.html">libfswatch</a></li><li class="navelem"><a class="el" href="dir_313ddc81f00b6b11ae41927212e2af46.html">c</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">libfswatch.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main <code>libfswatch</code> source file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;gettext_defs.h&quot;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;ctime&gt;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &quot;<a class="el" href="libfswatch_8h_source.html">libfswatch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="libfswatch__map_8hpp_source.html">../c++/libfswatch_map.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="filter_8hpp_source.html">../c++/filter.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monitor_8hpp_source.html">../c++/monitor.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="libfswatch__exception_8hpp_source.html">../c++/libfswatch_exception.hpp</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_f_s_w___s_e_s_s_i_o_n.html">FSW_SESSION</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfsw__callback__context.html">fsw_callback_context</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmonitor__start__guard.html">monitor_start_guard&lt; T &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad22c2e725471028aa41e571a9ae61ea0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad22c2e725471028aa41e571a9ae61ea0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SESSION_GUARD</b>&#160;&#160;&#160;std::lock_guard&lt;std::mutex&gt; session_lock(session_mutex);</td></tr>
<tr class="separator:ad22c2e725471028aa41e571a9ae61ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a0ef5daea20d3d895fc98d2c357a6e25f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ef5daea20d3d895fc98d2c357a6e25f"></a>
typedef struct <a class="el" href="struct_f_s_w___s_e_s_s_i_o_n.html">FSW_SESSION</a>&#160;</td><td class="memItemRight" valign="bottom"><b>FSW_SESSION</b></td></tr>
<tr class="separator:a0ef5daea20d3d895fc98d2c357a6e25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbdb892130dece0a4d628a5b2acfd539"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afbdb892130dece0a4d628a5b2acfd539"></a>
typedef struct <a class="el" href="structfsw__callback__context.html">fsw_callback_context</a>&#160;</td><td class="memItemRight" valign="bottom"><b>fsw_callback_context</b></td></tr>
<tr class="separator:afbdb892130dece0a4d628a5b2acfd539"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a86c15ddfc7329330385cd6e85f6d9a84"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86c15ddfc7329330385cd6e85f6d9a84"></a>
static <a class="el" href="struct_f_s_w___s_e_s_s_i_o_n.html">FSW_SESSION</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>get_session</b> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle)</td></tr>
<tr class="separator:a86c15ddfc7329330385cd6e85f6d9a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a7981206c30cb7d1ef39c7d0edf64c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a03a7981206c30cb7d1ef39c7d0edf64c"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>create_monitor</b> (<a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const <a class="el" href="cmonitor_8h.html#a351e0cba7dc1c1ab357bc38d9c724cc9">fsw_monitor_type</a> type)</td></tr>
<tr class="separator:a03a7981206c30cb7d1ef39c7d0edf64c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66372b0bd425a12f1e59a0cc2d899ff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af66372b0bd425a12f1e59a0cc2d899ff"></a>
static <a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><b>fsw_set_last_error</b> (const int error)</td></tr>
<tr class="separator:af66372b0bd425a12f1e59a0cc2d899ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb91e4b0fbb61bf4302ecb556312d184"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#adb91e4b0fbb61bf4302ecb556312d184">fsw_init_library</a> ()</td></tr>
<tr class="separator:adb91e4b0fbb61bf4302ecb556312d184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa431f62652eb4772753ff1190d13357b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa431f62652eb4772753ff1190d13357b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>libfsw_cpp_callback_proxy</b> (const std::vector&lt; <a class="el" href="classfsw_1_1event.html">event</a> &gt; &amp;events, void *context_ptr)</td></tr>
<tr class="separator:aa431f62652eb4772753ff1190d13357b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7aa77ae29259545b1bf96405bdf1b38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#ae7aa77ae29259545b1bf96405bdf1b38">fsw_init_session</a> (const <a class="el" href="cmonitor_8h.html#a351e0cba7dc1c1ab357bc38d9c724cc9">fsw_monitor_type</a> type)</td></tr>
<tr class="separator:ae7aa77ae29259545b1bf96405bdf1b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae465ef0618fb1dc6d8b70dee68359ea6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#ae465ef0618fb1dc6d8b70dee68359ea6">fsw_add_path</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const char *path)</td></tr>
<tr class="separator:ae465ef0618fb1dc6d8b70dee68359ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0efeba06b5e2acaedb25234abf3fd316"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a0efeba06b5e2acaedb25234abf3fd316">fsw_add_property</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const char *name, const char *value)</td></tr>
<tr class="separator:a0efeba06b5e2acaedb25234abf3fd316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a76ae5854fdc53d01e13fa7cb89cd0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a6a76ae5854fdc53d01e13fa7cb89cd0b">fsw_set_callback</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const <a class="el" href="cevent_8h.html#aede20289a2fa730e3a16284eacc780c0">FSW_CEVENT_CALLBACK</a> callback, void *data)</td></tr>
<tr class="separator:a6a76ae5854fdc53d01e13fa7cb89cd0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62525971e38a050cc454546983893581"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a62525971e38a050cc454546983893581">fsw_set_allow_overflow</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const bool allow_overflow)</td></tr>
<tr class="separator:a62525971e38a050cc454546983893581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554c4f94e988758430085de3e605788f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a554c4f94e988758430085de3e605788f">fsw_set_latency</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const double latency)</td></tr>
<tr class="separator:a554c4f94e988758430085de3e605788f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5817bf2b538199e32c5dd55da22dd36f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a5817bf2b538199e32c5dd55da22dd36f">fsw_set_recursive</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const bool recursive)</td></tr>
<tr class="separator:a5817bf2b538199e32c5dd55da22dd36f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe38b6eaa24e74280a55f025efbbbeaa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#abe38b6eaa24e74280a55f025efbbbeaa">fsw_set_directory_only</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const bool directory_only)</td></tr>
<tr class="separator:abe38b6eaa24e74280a55f025efbbbeaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659e22c8486465e8987de702d2737f50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a659e22c8486465e8987de702d2737f50">fsw_set_follow_symlinks</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const bool follow_symlinks)</td></tr>
<tr class="separator:a659e22c8486465e8987de702d2737f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a516a0bf6fb25b566e49eaeaa24cea7da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a516a0bf6fb25b566e49eaeaa24cea7da">fsw_add_event_type_filter</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const <a class="el" href="structfsw__event__type__filter.html">fsw_event_type_filter</a> event_type)</td></tr>
<tr class="separator:a516a0bf6fb25b566e49eaeaa24cea7da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42f30c689f3f659f2f414415f699961"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#ac42f30c689f3f659f2f414415f699961">fsw_add_filter</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle, const <a class="el" href="structfsw__cmonitor__filter.html">fsw_cmonitor_filter</a> filter)</td></tr>
<tr class="separator:ac42f30c689f3f659f2f414415f699961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a5e3625d3aab7169b6c3a99ba2c6f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a21a5e3625d3aab7169b6c3a99ba2c6f9">fsw_start_monitor</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle)</td></tr>
<tr class="separator:a21a5e3625d3aab7169b6c3a99ba2c6f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b89ca799ec1c23a30fa45175ff6494"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a78b89ca799ec1c23a30fa45175ff6494">fsw_destroy_session</a> (const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> handle)</td></tr>
<tr class="separator:a78b89ca799ec1c23a30fa45175ff6494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b25a17283e5e57e281cad62c1254ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a77b25a17283e5e57e281cad62c1254ed">fsw_last_error</a> ()</td></tr>
<tr class="separator:a77b25a17283e5e57e281cad62c1254ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e98f18cd165203467b3522ff63a2bb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a14e98f18cd165203467b3522ff63a2bb">fsw_is_verbose</a> ()</td></tr>
<tr class="separator:a14e98f18cd165203467b3522ff63a2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f45d70394af02ac487c16cc3bdbc79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libfswatch_8cpp.html#a10f45d70394af02ac487c16cc3bdbc79">fsw_set_verbose</a> (bool verbose)</td></tr>
<tr class="separator:a10f45d70394af02ac487c16cc3bdbc79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab0716e6504d26e9b0f3cf148359746a9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab0716e6504d26e9b0f3cf148359746a9"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>srand_initialized</b> = false</td></tr>
<tr class="separator:ab0716e6504d26e9b0f3cf148359746a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a576aadff7b7f60209939077d4642d373"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a576aadff7b7f60209939077d4642d373"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>fsw_libfswatch_verbose</b> = false</td></tr>
<tr class="separator:a576aadff7b7f60209939077d4642d373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ec8bd7470525410a256234b2f6b08e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70ec8bd7470525410a256234b2f6b08e"></a>
static <a class="el" href="namespacefsw.html#a38704e800e73ecfa84828f2260125f98">fsw_hash_map</a>&lt; <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>, <a class="el" href="struct_f_s_w___s_e_s_s_i_o_n.html">FSW_SESSION</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>sessions</b></td></tr>
<tr class="separator:a70ec8bd7470525410a256234b2f6b08e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4995f1e4a85ae66eab8117dd907bb31f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4995f1e4a85ae66eab8117dd907bb31f"></a>
static <a class="el" href="namespacefsw.html#a38704e800e73ecfa84828f2260125f98">fsw_hash_map</a>&lt; <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>, mutex * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>session_mutexes</b></td></tr>
<tr class="separator:a4995f1e4a85ae66eab8117dd907bb31f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4903c6e5ee6d40e38ad6282eeceea596"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4903c6e5ee6d40e38ad6282eeceea596"></a>
static std::mutex&#160;</td><td class="memItemRight" valign="bottom"><b>session_mutex</b></td></tr>
<tr class="separator:a4903c6e5ee6d40e38ad6282eeceea596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88896825eb7feb659a9be958b0be5a6a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88896825eb7feb659a9be958b0be5a6a"></a>
static FSW_THREAD_LOCAL <a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><b>last_error</b></td></tr>
<tr class="separator:a88896825eb7feb659a9be958b0be5a6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f96de5a8e1f63605ea0afb6e95ab7d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f96de5a8e1f63605ea0afb6e95ab7d2"></a>
static FSW_EVENT_CALLBACK&#160;</td><td class="memItemRight" valign="bottom"><b>libfsw_cpp_callback_proxy</b></td></tr>
<tr class="separator:a5f96de5a8e1f63605ea0afb6e95ab7d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main <code>libfswatch</code> source file. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2014-2015 Enrico M. Crisostomo </dd></dl>
<dl class="section user"><dt>License:</dt><dd>GNU General Public License v. 3.0 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Enrico M. Crisostomo </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.8.0 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a516a0bf6fb25b566e49eaeaa24cea7da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_add_event_type_filter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfsw__event__type__filter.html">fsw_event_type_filter</a>&#160;</td>
          <td class="paramname"><em>event_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds an event type filter to the current session.</p>
<p>See <a class="el" href="cfilter_8h.html" title="Header of the libfswatch library functions for filter management. ">cfilter.h</a> for the definition of <a class="el" href="structfsw__event__type__filter.html" title="Event type filter. ">fsw_event_type_filter</a>. </p>

</div>
</div>
<a class="anchor" id="ac42f30c689f3f659f2f414415f699961"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_add_filter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structfsw__cmonitor__filter.html">fsw_cmonitor_filter</a>&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a filter to the current session. A filter is a regular expression that, depending on whether the filter type is exclusion or not, must or must not be matched for an event path for the event to be accepted.</p>
<p>See <a class="el" href="cfilter_8h.html" title="Header of the libfswatch library functions for filter management. ">cfilter.h</a> for the definition of <a class="el" href="structfsw__cmonitor__filter.html">fsw_cmonitor_filter</a>. </p>

</div>
</div>
<a class="anchor" id="ae465ef0618fb1dc6d8b70dee68359ea6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_add_path </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a path to watch to the specified session. At least one path must be added to the current session in order for it to be valid. </p>

</div>
</div>
<a class="anchor" id="a0efeba06b5e2acaedb25234abf3fd316"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_add_property </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the specified monitor property. </p>

</div>
</div>
<a class="anchor" id="a78b89ca799ec1c23a30fa45175ff6494"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_destroy_session </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys an existing session and invalidates its handle. </p>

</div>
</div>
<a class="anchor" id="adb91e4b0fbb61bf4302ecb556312d184"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_init_library </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <code>libfswatch</code> C API let users create monitor sessions and receive file system events matching the specified criteria. Most API functions return a status code of type FSW_STATUS which can take any value specified in the <a class="el" href="error_8h.html" title="Error values. ">error.h</a> header. A successful API call returns FSW_OK and the last error can be obtained calling the <a class="el" href="libfswatch_8h.html#a77b25a17283e5e57e281cad62c1254ed">fsw_last_error()</a> function.</p>
<p>If the compiler and the C++ library used to build <code>libfswatch</code> support the thread_local storage specified then this API is thread safe and a different state is maintained on a per-thread basis.</p>
<p>Session-modifying API calls (such as fsw_add_path) will take effect the next time a monitor is started with fsw_start_monitor.</p>
<p>Currently not all monitors supports being stopped, in which case fsw_start_monitor is a non-returning API call.</p>
<p>A basic session needs at least:</p>
<ul>
<li>A path to watch.</li>
<li>A callback to process the events sent by the monitor.</li>
</ul>
<p>as shown in the next example (error checking code was omitted). </p><pre class="fragment">// Use the default monitor.
const FSW_HANDLE handle = fsw_init_session();

fsw_add_path(handle, "my/path");
fsw_set_callback(handle, my_callback);

fsw_start_monitor(handle);
</pre><p>A suitable callback function is a function pointer of type FSW_CEVENT_CALLBACK, that is it is a function conforming with the following signature: </p><pre class="fragment">void c_process_events(fsw_cevent const * const events,
                      const unsigned int event_num,
                      void * data);
</pre><p>When a monitor receives change events satisfying all the session criteria, the callback is invoked and passed a copy of the events. This function initializes the <code>libfswatch</code> library and must be invoked before any other calls to the C or C++ API. If the function succeeds, it returns FSW_OK, otherwise the initialization routine failed and the library should not be usable. </p>

</div>
</div>
<a class="anchor" id="ae7aa77ae29259545b1bf96405bdf1b38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a> fsw_init_session </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="cmonitor_8h.html#a351e0cba7dc1c1ab357bc38d9c724cc9">fsw_monitor_type</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="cmonitor_8h.html#a351e0cba7dc1c1ab357bc38d9c724cc9a24f6e9b2ec15f4afecb290fd7fd90e1a">system_default_monitor_type</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function creates a new monitor session using the specified monitor and returns an handle to it. This function is the <code>libfswatch</code> API entry point.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="cmonitor_8h.html" title="Header of the libfswatch library defining the monitor types. ">cmonitor.h</a> for a list of all the available monitors. </dd></dl>

</div>
</div>
<a class="anchor" id="a14e98f18cd165203467b3522ff63a2bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fsw_is_verbose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the verbose mode is active. </p>

</div>
</div>
<a class="anchor" id="a77b25a17283e5e57e281cad62c1254ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_last_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the last error code. </p>

</div>
</div>
<a class="anchor" id="a62525971e38a050cc454546983893581"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_set_allow_overflow </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>allow_overflow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the allow overflow flag of the monitor. When this flag is set, a monitor is allowed to overflow and report it as a change event. </p>

</div>
</div>
<a class="anchor" id="a6a76ae5854fdc53d01e13fa7cb89cd0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_set_callback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="cevent_8h.html#aede20289a2fa730e3a16284eacc780c0">FSW_CEVENT_CALLBACK</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the callback the monitor invokes when some events are received. The callback must be set in the current session in order for it to be valid.</p>
<p>See <a class="el" href="cevent_8h.html" title="Event type manipulation. ">cevent.h</a> for the definition of FSW_CEVENT_CALLBACK. </p>

</div>
</div>
<a class="anchor" id="abe38b6eaa24e74280a55f025efbbbeaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_set_directory_only </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>directory_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines whether the monitor only watches a directory when performing a recursive scan. By default, a monitor accepts all kinds of files. </p>

</div>
</div>
<a class="anchor" id="a659e22c8486465e8987de702d2737f50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_set_follow_symlinks </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>follow_symlinks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines whether a symbolic link is followed or not. By default, a symbolic link are not followed. </p>

</div>
</div>
<a class="anchor" id="a554c4f94e988758430085de3e605788f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_set_latency </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>latency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the latency of the monitor. By default, the latency is set to 1 s. </p>

</div>
</div>
<a class="anchor" id="a5817bf2b538199e32c5dd55da22dd36f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_set_recursive </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>recursive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines whether the monitor recursively scans each watched path or not. Recursive scanning is an optional feature which could not be implemented by all the monitors. By default, recursive scanning is disabled. </p>

</div>
</div>
<a class="anchor" id="a10f45d70394af02ac487c16cc3bdbc79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsw_set_verbose </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verbose</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the verbose mode. </p>

</div>
</div>
<a class="anchor" id="a21a5e3625d3aab7169b6c3a99ba2c6f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfswatch__types_8h.html#ac53f8f7818ac67792ddb5d743e112b09">FSW_STATUS</a> fsw_start_monitor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libfswatch__types_8h.html#a79d59ea33d3309ddcaa8bc1ccd8a5952">FSW_HANDLE</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts the monitor if it is properly configured. Depending on the type of monitor this call might return when a monitor is stopped or not. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
